INSTRUCCIONES DE INSTALACI√ìN R√ÅPIDA
===================================

‚úÖ PASO 1: VERIFICACI√ìN
Los archivos ya est√°n en la ubicaci√≥n correcta:
‚îú‚îÄ /var/www/html/dolpuerta/htdocs/core/modules/contract/doc/
‚îÇ  ‚îú‚îÄ pdf_puerta_sevilla.modules.php          ‚úì CREADO
‚îÇ  ‚îú‚îÄ pdf_puerta_sevilla_config.php           ‚úì CREADO
‚îÇ  ‚îú‚îÄ langs/es_ES/pdf_puerta_sevilla.lang     ‚úì CREADO
‚îÇ  ‚îú‚îÄ PDF_PUERTA_SEVILLA_README.md            ‚úì CREADO
‚îÇ  ‚îú‚îÄ EJEMPLO_USO_PUERTA_SEVILLA.md           ‚úì CREADO
‚îÇ  ‚îú‚îÄ GUIA_INTEGRACION.md                     ‚úì CREADO
‚îÇ  ‚îî‚îÄ RESUMEN_IMPLEMENTACION.txt              ‚úì CREADO

‚úÖ PASO 2: PERMISOS (Ejecutar si es necesario)
bash
chmod 755 /var/www/html/dolpuerta/htdocs/core/modules/contract/doc/
chmod 644 /var/www/html/dolpuerta/htdocs/core/modules/contract/doc/*.php
chmod 644 /var/www/html/dolpuerta/htdocs/core/modules/contract/doc/langs/es_ES/*
chmod 755 /var/www/html/dolpuerta/documents/contracts/

‚úÖ PASO 3: LIMPIAR CACH√â DE DOLIBARR
Opci√≥n A: Desde la interfaz web
- Entrar en Dolibarr
- Ir a: Administraci√≥n ‚Üí Herramientas ‚Üí Limpiar cache
- Click en bot√≥n "Vaciar cache"

Opci√≥n B: Por terminal
bash
rm -rf /var/www/html/dolpuerta/var/cache/*

‚úÖ PASO 4: VERIFICAR INSTALACI√ìN
1. Abrir Dolibarr en navegador
2. Ir a: Contratos ‚Üí Listar
3. Abrir un contrato existente o crear uno nuevo
4. Click en bot√≥n "Generar PDF"
5. Debe aparecer "PuertaSevilla" en la lista de templates

‚úÖ PASO 5: GENERAR PDF DE PRUEBA
1. Ir a un contrato con datos completos
2. Clic en "Generar PDF"
3. Seleccionar "PuertaSevilla"
4. El PDF se generar√° autom√°ticamente
5. Descargar y verificar

---

DATOS M√çNIMOS REQUERIDOS PARA GENERAR PDF
===========================================

En el Contrato:
‚úì Referencia del contrato
‚úì Fecha de contrato
‚úì Tercero (inquilino) asignado
‚úì Al menos 1 l√≠nea de contrato con:
  - Descripci√≥n de la propiedad
  - Importe (renta)
  - Fecha de inicio
  - Fecha de fin

En la Empresa:
‚úì Nombre
‚úì Direcci√≥n (opcional pero recomendado)
‚úì C√≥digo postal y ciudad (opcionales)
‚úì SIRET/SIREN (opcional)

En el Tercero:
‚úì Nombre
‚úì Direcci√≥n (recomendado)
‚úì C√≥digo postal y ciudad (recomendado)

---

SOLUCI√ìN R√ÅPIDA DE PROBLEMAS
============================

Problema: "Template no aparece en la lista"
Soluci√≥n:
- Limpiar cache: Administraci√≥n ‚Üí Herramientas ‚Üí Limpiar cache
- Recargar p√°gina (Ctrl+F5)
- Verificar que php_puerta_sevilla.modules.php existe

Problema: "Error al generar PDF"
Soluci√≥n:
- Verificar logs: tail -f /var/www/html/dolpuerta/var/log/dolibarr.log
- Revisar que contrato tiene al menos 1 l√≠nea
- Revisar que hay datos en empresa y tercero

Problema: "Caracteres especiales mal codificados"
Soluci√≥n:
- Limpiar cache
- Verificar que archivo .lang est√° en UTF-8
- Recargar p√°gina en navegador (Ctrl+Shift+Del)

Problema: "PDF sale en blanco"
Soluci√≥n:
- Verificar m√≥dulo Contratos est√° habilitado
- Asegurar contrato tiene l√≠neas v√°lidas
- Ver logs de error

---

PERSONALIZACI√ìN R√ÅPIDA
======================

Cambiar idioma de etiquetas:
Editar: /var/www/html/dolpuerta/htdocs/core/modules/contract/doc/langs/es_ES/pdf_puerta_sevilla.lang

Cambiar colores del PDF:
Editar: /var/www/html/dolpuerta/htdocs/core/modules/contract/doc/pdf_puerta_sevilla_config.php
Buscar: PS_PDF_*_COLOR_R/G/B

Cambiar tama√±os de fuente:
Editar: /var/www/html/dolpuerta/htdocs/core/modules/contract/doc/pdf_puerta_sevilla_config.php
Buscar: PS_PDF_*_FONT_SIZE_OFFSET

Cambiar condiciones generales:
Editar: /var/www/html/dolpuerta/htdocs/core/modules/contract/doc/pdf_puerta_sevilla.modules.php
Buscar: $conditions = array(

---

ESTRUCTURA DEL PDF GENERADO
============================

El PDF incluye (en orden):

1. ENCABEZADO
   - Logo de empresa (si existe)
   - T√≠tulo "CONTRATO DE ALQUILER"
   - Referencia y fecha

2. IDENTIFICACI√ìN DE PARTES (2 columnas)
   - Arrendador (datos empresa)
   - Arrendatario (datos tercero)

3. OBJETO DEL CONTRATO
   - Descripci√≥n de propiedad

4. DURACI√ìN
   - Fecha inicio y fin

5. RENTA MENSUAL
   - Importe y IVA

6. CONDICIONES GENERALES
   - Obligaciones arrendatario y arrendador

7. NOTAS (si existen)
   - Texto de notas p√∫blicas

8. FIRMAS
   - Cajas para firma arrendador
   - Cajas para firma arrendatario

9. PIE DE P√ÅGINA
   - Informaci√≥n de empresa
   - Fecha de generaci√≥n

---

ARCHIVOS CREADOS
================

Principal:
üìÑ pdf_puerta_sevilla.modules.php
   - Clase principal del template
   - L√≥gica de generaci√≥n PDF
   - M√©todos de renderizaci√≥n

Configuraci√≥n:
üìÑ pdf_puerta_sevilla_config.php
   - 45+ constantes personalizables
   - Controla apariencia y comportamiento

Idioma:
üìÑ langs/es_ES/pdf_puerta_sevilla.lang
   - Traducciones espa√±ol
   - Extensible a otros idiomas

Documentaci√≥n:
üìÑ PDF_PUERTA_SEVILLA_README.md
   - Documentaci√≥n t√©cnica detallada

üìÑ EJEMPLO_USO_PUERTA_SEVILLA.md
   - Ejemplos pr√°cticos con datos

üìÑ GUIA_INTEGRACION.md
   - Gu√≠a completa de integraci√≥n

üìÑ RESUMEN_IMPLEMENTACION.txt
   - Resumen ejecutivo de la implementaci√≥n

üìÑ INSTALACION_RAPIDA.txt (este archivo)
   - Instrucciones r√°pidas de instalaci√≥n

---

VERIFICACI√ìN FINAL
==================

‚úì Archivos creados correctamente
‚úì Ubicaciones correctas
‚úì Permisos adecuados
‚úì Documentaci√≥n completa
‚úì C√≥digo comentado
‚úì M√©todo write_file() implementado
‚úì Traducci√≥n espa√±ol incluida
‚úì Configuraci√≥n personalizable
‚úì Manejo de errores
‚úì Hooks de Dolibarr integrados

---

LISTO PARA USAR
===============

El template PDF "PuertaSevilla" est√° completamente operativo.

Pr√≥ximos pasos:
1. Acceder a Dolibarr
2. Crear o abrir un contrato
3. Clic en "Generar PDF"
4. Seleccionar template "PuertaSevilla"
5. ¬°El PDF se genera autom√°ticamente!

---

Versi√≥n: 1.0.0
Fecha: 29 de diciembre de 2024
Estado: ‚úÖ COMPLETADO Y LISTO
